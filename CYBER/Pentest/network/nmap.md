nmap is a part ot the reconnaisance part :

- enumerate 
- Discover
- get ips 
- scan port
- versions detections
- OS detection 
- traceroute
- scripts 



nmap can scan ip for port 
by giving 

a range : 10.10.0-255.102-125

a subnet: 10.10.10.10/29

list: nmap -iL text.txt

before running the scan we can say to nmap to list the ip he want to scan with the -sL option 
Run nmap -sL -n 10.10.0-255.101-125


# ARP SCANNING

we can say to nmap to do a arp scanning with the following command :

nmap -PR -sn {ip}/{subnet}

int the same order of idea with can use the arp-scan tools to scan all an interface like:
arp-scan -I {interface_name} -l 

# HOST DISCOVERY

we can use ICMP protocol to discover lived server 

nmap -PE -sn range 

ICPM can be locked so you can use other ICMP protocol like ICMP TIMESTAMP (-PP) or ICMP mask (-PM)


# PORT SCANNING

a port can bee in one of the 6 following state: 


Open: indicates that a service is listening on the specified port.
Closed: indicates that no service is listening on the specified port, although the port is accessible. By accessible, we mean that it is reachable and is not blocked by a firewall or other security appliances/programs.
Filtered: means that Nmap cannot determine if the port is open or closed because the port is not accessible. This state is usually due to a firewall preventing Nmap from reaching that port. Nmap’s packets may be blocked from reaching the port; alternatively, the responses are blocked from reaching Nmap’s host.
Unfiltered: means that Nmap cannot determine if the port is open or closed, although the port is accessible. This state is encountered when using an ACK scan -sA.
Open|Filtered: This means that Nmap cannot determine whether the port is open or filtered.
Closed|Filtered: This means that Nmap cannot decide whether a port is closed or filtered.

# TCP SCAN

a tcp scan port can be done using : 

nmap -sT {IPRANGE}
this will check all port of the machine 

an uncomplete TCP scan can be done using a non finished 3 way unshake (need sudo privilege)

the scan can be doing 

nmap -sS {IPRANGE}

## TCP NULL FLASG SCAN

this is by doing a null flag TCP connection and see if the port answer to it .

sudo nmap -sN MACHINE_IP 
if the port is closed so the server will send a RST flag 


## TCP FIN FLAG 

sudo nmap -sF MACHINE_IP 

this send a tcp request with fin flag only 
if the port is closed so the server will send a RST flag 


## TCP XMAS 
sudo nmap -sX MACHINE_IP 


this send a tcp request with fin, PSH, URG flag only 
if the port is closed so the server will send a RST flag 

## TCP ACK 
sudo nmap -sA MACHINE_IP 
send only an ACK flag 

## TCP Window
sudo nmap -sW MACHINE_IP 
check for window size response  

## TCP PORT SPECIFIC 

### TCP SHAKE 

we can say to nmap to start 3 way handskape to all port to discover TCP open port .

namp -PS{PORT-RANGE (80,443,... or 80-200 or 81)} -sn {IP-RANGE}

### TCP ACK

we can try to send an ACK request in the goal to receive an RST packet in return .

nmap -PA{PORT-RANGE (80,443,... or 80-200 or 81)} -sn {IP-RANGE}





# UDP PING 

like tcp port we can scan for open UDP port with the PU options 

for a large scan we can use the 
nmap -sU IP 

# ping scan 
allow to ping a subnet to dicover machine .
nmap -sn {ip}/{subnet}

# OTHER OPTIONS :
## oN -> ouput to a file

the -oN allow to ouput the result to a file 

# FROM LIST OF HOST
 use -iL {TEXT_FILE} to use nmap on a list of host 

# RANGE PORT 

when do a scan only specific port are scanned we can change the port range with 

-p{PORT_RANGE port1,port2 or port or port1-port2}

# time between request 

we can say to nmap to scan in a very long time beetween each port scan with 
-T{level}

level are from 0 to 5 where 5 is really fast and 0 is very slow to be sure to not be hacked ...

# Thread 

we can say to nmap how musch thread run the scan with min and max number or thread 

--min-parallelism={min number}/--max-parallelism={max number} 

# SPOOFING

we can emulate a fake address with the 
-S {SPOOFFED IP ADDRESS}

we can even emulate from coming of multiple address (ME will be remplaced by nmap by your IP)

-D {IP1},{IP2},ME

## ZOMBIE SCAN

The idle scan, or zombie scan, requires an idle system connected to the network that you can communicate with. Practically, Nmap will make each probe appear as if coming from the idle (zombie) host, then it will check for indicators whether the idle (zombie) host received any response to the spoofed probe. This is accomplished by checking the IP identification (IP ID) value in the IP header

## reason 

by added the flag --reason in the request the reason why the port is open will be discovered .